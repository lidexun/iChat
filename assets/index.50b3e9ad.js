import{c as A,d as V,r as T,Z as N,t as B,q as C,C as R,a as i,aa as j,ad as F,ap as q,w as $,e as z,Y as K,E as Y,H as O,aq as Z,b as H,B as L,I as U,ar as G,D as J,o as v,g as I,_ as x,F as k,n as Q,$ as p,as as W,at as X,j as ee,S as ae,l as te}from"./index.cb71e29c.js";import{u as ne}from"./use-placeholder.635160f2.js";import{r as oe,u as re}from"./use-route.eedd3dde.js";const[w,y]=A("tabbar"),se={route:Boolean,fixed:B,border:B,zIndex:C,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:R(0),safeAreaInsetBottom:{type:Boolean,default:null}},D=Symbol(w);var ce=V({name:w,props:se,emits:["change","update:modelValue"],setup(a,{emit:s,slots:o}){const u=T(),{linkChildren:d}=N(D),c=ne(u,y),l=()=>{var t;return(t=a.safeAreaInsetBottom)!=null?t:a.fixed},n=()=>{var t;const{fixed:e,zIndex:r,border:b}=a;return i("div",{ref:u,role:"tablist",style:j(r),class:[y({fixed:e}),{[F]:b,"van-safe-area-bottom":l()}]},[(t=o.default)==null?void 0:t.call(o)])};return d({props:a,setActive:(t,e)=>{q(a.beforeChange,{args:[t],done(){s("update:modelValue",t),s("change",t),e()}})}}),()=>a.fixed&&a.placeholder?c(n):n()}});const le=$(ce),[ie,h]=A("tabbar-item"),ue=z({},oe,{dot:Boolean,icon:String,name:C,badge:C,badgeProps:Object,iconPrefix:String});var de=V({name:ie,props:ue,emits:["click"],setup(a,{emit:s,slots:o}){const u=re(),d=K().proxy,{parent:c,index:l}=Y(D);if(!c)return;const n=O(()=>{var e;const{route:r,modelValue:b}=c.props;if(r&&"$route"in d){const{$route:_}=d,{to:f}=a,m=L(f)?f:{path:f};return!!_.matched.find(P=>{const E="path"in m&&m.path===P.path,M="name"in m&&m.name===P.name;return E||M})}return((e=a.name)!=null?e:l.value)===b}),g=e=>{var r;n.value||c.setActive((r=a.name)!=null?r:l.value,u),s("click",e)},t=()=>{if(o.icon)return o.icon({active:n.value});if(a.icon)return i(U,{name:a.icon,classPrefix:a.iconPrefix},null)};return()=>{var e;const{dot:r,badge:b}=a,{activeColor:_,inactiveColor:f}=c.props,m=n.value?_:f;return i("div",{role:"tab",class:h({active:n.value}),style:{color:m},tabindex:0,"aria-selected":n.value,onClick:g},[i(Z,H({dot:r,class:h("icon"),content:b},a.badgeProps),{default:t}),i("div",{class:h("text")},[(e=o.default)==null?void 0:e.call(o,{active:n.value})])])}}});const me=$(de);const S={},be={__name:"index",setup(a){const s=T("message"),o=G(),u=O(()=>o.getCount),d=J([{name:"message",icon:"chat-o",text:"\u804A\u5929",badge:u},{name:"nearby",icon:"guide-o",text:"\u9644\u8FD1",badge:null},{name:"user",icon:"user-o",text:"\u6211\u7684",badge:null}]);return(c,l)=>{const n=Q("router-view"),g=me,t=le;return v(),I(k,null,[i(n,null,{default:x(({Component:e})=>[(v(),p(X,null,[(v(),p(W(e)))],1024))]),_:1}),i(t,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),route:"",fixed:"","safe-area-inset-bottom":""},{default:x(()=>[(v(!0),I(k,null,ee(d,(e,r)=>(v(),p(g,{badge:e.badge,to:"/"+e.name,key:e.name+e.icon,name:e.name,icon:e.icon},{default:x(()=>[ae(te(e.text),1)]),_:2},1032,["badge","to","name","icon"]))),128))]),_:1},8,["modelValue"])],64)}}};typeof S=="function"&&S(be);export{be as default};
